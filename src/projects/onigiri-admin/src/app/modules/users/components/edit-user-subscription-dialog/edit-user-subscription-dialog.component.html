<div class="h-full w-full flex flex-column min-h">


  @if(loadingStatus() === 'pending') {
  <p-skeleton width="100%"
              height="20rem" />
  }

  @if(loadingStatus() === 'success') {

  <div class="flex-1 w-full flex flex-column row-gap-4 py-2">
    <div>
      <label for="oni_subscription_type"
             class="font-bold block mb-2">Subscription Type</label>

      <p-dropdown [options]="oniSubscriptionOptions"
                  [formControl]="oniSubscriptionType"
                  optionLabel="name"
                  optionValue="value"
                  [showClear]="false"
                  inputId="oni_subscription_type"
                  placeholder="Subscription type" />
    </div>


    @if(oniSubscriptionType.value === 'trial') {

    <div class="grid py-2"
         [formGroup]="oniTrialForm">

      <div class="col-6 flex-auto">
        <label for="oni_trial_starts_at"
               class="font-bold block mb-2">Starts at</label>
        <p-calendar formControlName="startsAt"
                    iconDisplay="input"
                    [showIcon]="true"
                    inputId="oni_trial_starts_at" />
      </div>

      <div class="col-6 flex-auto">
        <label for="oni_trial_expires_at"
               class="font-bold block mb-2">Expires at</label>
        <p-calendar formControlName="expiresAt"
                    iconDisplay="input"
                    [showIcon]="true"
                    inputId="oni_trial_expires_at" />
      </div>

    </div>

    }

    @if(oniSubscriptionType.value === 'enterprise') {

    <div class="w-full flex flex-column row-gap-3"
         [formGroup]="oniEnterpiseForm">

      <div class="w-full grid">

        <div class="col-6 flex-auto">
          <label for="oni_ent_starts_at"
                 class="font-bold block mb-2">Starts at</label>
          <p-calendar formControlName="startsAt"
                      iconDisplay="input"
                      [showIcon]="true"
                      inputId="oni_ent_starts_at" />
        </div>

        <div class="col-6 flex-auto">
          <label for="oni_ent_expires_at"
                 class="font-bold block mb-2">Expires at</label>
          <p-calendar formControlName="expiresAt"
                      iconDisplay="input"
                      [showIcon]="true"
                      inputId="oni_ent_expires_at" />
        </div>

      </div>

      <div class="w-full grid">

        <div class="col-6 flex-auto">
          <label for="oni_ent_billing_interval"
                 class="font-bold block mb-2">Billing interval</label>

          <p-dropdown [options]="billingIntervalOptions"
                      formControlName="billingInterval"
                      optionLabel="name"
                      optionValue="value"
                      [showClear]="false"
                      inputId="oni_ent_billing_interval"
                      placeholder="Billing interval" />
        </div>

        <div class="col-6 flex-auto">
          <label for="oni_ent_status"
                 class="font-bold block mb-2">Status</label>

          <p-dropdown [options]="subscStatusOptions"
                      formControlName="status"
                      optionLabel="name"
                      optionValue="value"
                      [showClear]="false"
                      inputId="oni_ent_status"
                      placeholder="Billing interval" />
        </div>
      </div>

    </div>

    }

  </div>

  }

  <div class="flex align-items-center column-gap-4 justify-content-end py-3">
    <p-button label="Cancel"
              [text]="true"
              severity="secondary"
              (onClick)="onCancel()" />
    <p-button label="Save"
              [raised]="true"
              (onClick)="onSave()" />
  </div>

</div>